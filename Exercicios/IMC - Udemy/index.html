<!DOCTYPE html>
<html lang="pt-BR">

<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="stylesheet" href="assets/css/style.css" />
    <title>Modelo</title>
</head>

<body>
    <section class="container">
        <h1>Tabela IMC</h1>
        <table class="tabelaIMC">
            <thead>
                <tr>
                    <th>IMC</th>
                    <th>Resultado</th>
                </tr>
            </thead>
            <tbody>
                <tr>
                    <td>Menos de 18,5</td>
                    <td>Abaixo do peso</td>
                </tr>
                <tr>
                    <td>18,5 - 24,9</td>
                    <td>Peso normal</td>
                </tr>
                <tr>
                    <td>25 - 29,9</td>
                    <td>Sobrepeso</td>
                </tr>
                <tr>
                    <td>30 - 34,9</td>
                    <td>Obesidade</td>
                </tr>
                <tr>
                    <td>35 - 39,9</td>
                    <td>Obesidade Grave</td>
                </tr>
                <tr>
                    <td>40 ou mais</td>
                    <td>Obesidade Mórbida</td>
                </tr>
            </tbody>
        </table>

        <form onsubmit="return false">
            <label for="ipeso">Peso (kg)</label>
            <input type="text" id="ipeso" oninput="this.value = this.value.replace(/[^0-9.,]/g, '')" inputmode="decimal" pattern="^[0-9](?:[.,][0-9]{1,2})?$"/>
            <label for="ialtura">Altura (m)</label>
            <input type="text" id="ialtura" oninput="this.value = this.value.replace(/[^0-9.,]/g, '')" inputmode="decimal" pattern="^[0-9](?:[.,][0-9]{1,2})?$"/>
            <input type="button" value="Calcular" class="button" onclick="calcular()">
            <input type="reset" value="Limpar" class="button" onclick="limpar()" >
        </form>
        <div id="resultado"></div>
    </section>
    <script>
        const peso = document.getElementById('ipeso')
        const altura = document.getElementById('ialtura')
        const res = document.getElementById('resultado')
        function calculo(peso, altura) {
            const imc = peso / (altura ** 2);
            const imcFixado = imc.toFixed(1);

            if (imc < 18.5) {
                res.innerHTML = `IMC: ${imcFixado} | Abaixo do peso`;
            } else if (imc >= 18.5 && imc <= 24.9) {
                res.innerHTML = `IMC: ${imcFixado} | Peso normal`;
            } else if (imc >= 25 && imc <= 29.9) {
                res.innerHTML = `IMC: ${imcFixado} | Sobrepeso`;
            } else if (imc >= 30 && imc <= 34.9) {
                res.innerHTML = `IMC: ${imcFixado} | Obesidade`;
            } else if (imc >= 35 && imc <= 39.9) {
                res.innerHTML = `IMC: ${imcFixado} | Obesidade Grave`;
            } else {
                res.innerHTML = `IMC: ${imcFixado} | Obesidade Mórbida`;
            }
        }
        function calcular() {
            const pesoTexto = peso.value.trim().replace(',', '.')
            const alturaTexto = altura.value.trim().replace(',','.')

            if (!pesoTexto || !alturaTexto) {
                window.alert('Preencha todos os campos!')
                return
            }

            const pesoValor = Number(pesoTexto);
            const alturaValor = Number(alturaTexto);

            if(pesoValor <= 0 || alturaValor <= 0){
                window.alert('Os valores devem ser maior que zero')
                return
            }
            if (isNaN(pesoValor) || isNaN(alturaValor)) {
                window.alert('Digite apenas números válidos!');
                return
            }
            calculo(pesoValor, alturaValor)
        }
        function limpar() {
            res.style.display = 'none'
        }
    </script>
</body>

</html>